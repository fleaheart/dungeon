<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>3D描画</title>

    <style type="text/css">
      canvas { border: 1px solid black; }
    </style>


<script type="text/javascript">
var kabex, kabey, width, height, $HIDARI, $MIGI;

    kabex = [ 5, 20, 94, 150, 185 ];
    kabey = [ 5, 13, 54, 84, 104 ];

    width = 400 - kabex[0] - kabex[0];
    height = 225 - kabey[0] - kabey[0];

    $HIDARI = 'hidari';
    $MIGI = 'migi';

window.onload = function() {
    var cvs, context;
    cvs = document.getElementById('map3d');

    context = cvs.getContext('2d');

    kabetatekaku(context, $HIDARI, 1);
    kabetatekaku(context, $HIDARI, 2);
    kabetatekaku(context, $HIDARI, 3);
    kabeyokokaku(context, $HIDARI, 4);

    kabetatekaku(context, $MIGI, 1);
    kabetatekaku(context, $MIGI, 2);
    kabetatekaku(context, $MIGI, 3);
    kabetatekaku(context, $MIGI, 4);
};

function kabetatekaku(context, side, fukasa) {
    var startx, fugou;
    context.beginPath();

    if (side == $HIDARI) {
        startx = 0;
        fugou = 1;
    }
    if (side == $MIGI) {
        startx = width;
        fugou = -1;
    }

    context.moveTo(startx + fugou * kabex[fukasa - 1], kabey[fukasa - 1]);
    context.lineTo(startx + fugou * kabex[fukasa], kabey[fukasa]);
    context.lineTo(startx + fugou * kabex[fukasa], height - kabey[fukasa]);
    context.lineTo(startx + fugou * kabex[fukasa - 1], height - kabey[fukasa - 1]);

    context.closePath();
    context.stroke();
}

function kabeyokokaku(context, side, fukasa) {
    var startx, fugou;

    context.beginPath();

    if (side == $HIDARI) {
        startx = 0;
        fugou = 1;
    }
    if (side == $MIGI) {
        startx = width;
        fugou = -1;
    }

    context.moveTo(startx + fugou * kabex[fukasa - 1], kabey[fukasa]);
    context.lineTo(startx + fugou * kabex[fukasa], kabey[fukasa]);
    context.lineTo(startx + fugou * kabex[fukasa], height - kabey[fukasa]);
    context.lineTo(startx + fugou * kabex[fukasa - 1], height - kabey[fukasa]);

    context.closePath();
    context.stroke();
}

</script>

</head>

<body>
<canvas id="map3d" width="400" height="225"></canvas>


</body>

</html>
